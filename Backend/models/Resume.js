const mongoose = require("mongoose");const experienceSchema = new mongoose.Schema({  _id: {    type: mongoose.Schema.Types.Mixed,    default: () => new mongoose.Types.ObjectId().toString(),    transform: (v) => v.toString(),  },  company: { type: String, required: true },  position: { type: String, required: true },  location: String,  startDate: { type: String, required: true },  endDate: String,  current: { type: Boolean, default: false },  description: [String],});const educationSchema = new mongoose.Schema({  _id: {    type: mongoose.Schema.Types.Mixed,    default: () => new mongoose.Types.ObjectId().toString(),    transform: (v) => v.toString(),  },  institution: { type: String, required: true },  degree: { type: String, required: true },  field: { type: String, required: true },  location: String,  startDate: { type: String, required: true },  endDate: String,  gpa: String,  description: String,});const skillSchema = new mongoose.Schema({  _id: {    type: mongoose.Schema.Types.Mixed,    default: () => new mongoose.Types.ObjectId().toString(),    transform: (v) => v.toString(),  },  name: { type: String, required: true },  level: {    type: String,    enum: ["Beginner", "Intermediate", "Advanced", "Expert"],    required: true,  },  category: { type: String, required: true },});const projectSchema = new mongoose.Schema({  _id: {    type: mongoose.Schema.Types.Mixed,    default: () => new mongoose.Types.ObjectId().toString(),    transform: (v) => v.toString(),  },  name: { type: String, required: true },  description: { type: String, required: true },  technologies: [String],  url: String,  github: String,  startDate: { type: String, required: true },  endDate: String,});const personalInfoSchema = new mongoose.Schema({  fullName: { type: String, required: true },  email: { type: String, required: true },  phone: { type: String, required: true },  location: { type: String, required: true },  linkedin: String,  website: String,});const resumeSchema = new mongoose.Schema(  {    _id: {      type: mongoose.Schema.Types.ObjectId,      auto: true,    },    userId: {      type: mongoose.Schema.Types.ObjectId,      ref: "User",      required: true,    },    title: {      type: String,      required: true,      default: "My Resume",    },    personalInfo: {      type: personalInfoSchema,      required: true,    },    summary: {      type: String,      required: true,    },    experiences: [experienceSchema],    education: [educationSchema],    skills: [skillSchema],    projects: [projectSchema],    template: {      type: String,      enum: ["modern", "classic", "creative", "minimal"],      default: "modern",    },    isPublic: {      type: Boolean,      default: false,    },    lastModified: {      type: Date,      default: Date.now,    },  },  {    timestamps: true,  });resumeSchema.index({ userId: 1, createdAt: -1 });module.exports = mongoose.model("Resume", resumeSchema);